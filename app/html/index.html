<!doctype html>
<html lang="fr" ng-app="Maily">
<head>
    <meta charset="utf-8">
    <title>Titre de la page</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-sanitize.js"></script>
    <script src="./js/app.js"></script>
</head>
<body ng-controller="MaillyListController">

    <select ng-change="emailAddressChanged()" ng-model="selectedLocalPart">
        <option ng-repeat="mailAddress in mailAddresses | orderBy:'created':true">{{mailAddress.local_part}}</option>
    </select>

    <select ng-change="domainChanged()" ng-model="selectedDomain">
        <option ng-repeat="domain in domains | orderBy:'created':true">{{domain.domain | trim}}</option>
    </select>

    <div class="mails">
        <div class="desc">
            <div ng-repeat="mail in mails | orderBy:'id':true" ng-click="showDetail(mail)" id="mail_{{mail.id}}" class="mail">
                <h2 class="ellips">
                    {{mail.headers.From}}
                </h2>
                <h3 class="ellips">
                    {{mail.headers.Subject}}
                </h3>
                <p class="content-preview ellips" ng-bind-html="mail.message | strip | oneLine">

                </p>
            </div>
        </div>

        <div class="content">
            <div id="message">

            </div>
        </div>
    </div>

</body>
</html>